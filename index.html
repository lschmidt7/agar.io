<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/styles.css" />
        <title>Agar.io</title>
    </head>
    <body>
        <input type="checkbox" onclick="helper.changeState()"/> <label>Grid</label>
        <canvas id="canvas" onmousemove="game.setMousePos(event)">
            
        </canvas>
    </body>
    
    <script src="js/Vec2.js"></script>
    <script src="js/Dot.js"></script>
    <script src="js/Game.js"></script>
    <script src="js/Player.js" ></script>
    <script src="js/EventHandler.js"></script>
    <script src="js/Helper.js"></script>

    <script>
        var game = new Game('canvas', new Vec2(100,100),UpdateGame,10);
        var eventHandler = new EventHandler();
        var player = new Player(game.ctx);
        var helper = new Helper(game);

        eventHandler.init();
        eventHandler.addKeyPress(' ',game.changeState);

        game.init(500);
        game.changeState();
    
        function UpdateGame() {
            game.clear();
            game.render();

            helper.draw();
            
            player.draw(game.ctx);
            player.move(game.mousePos);
    
            let playerCell = game.indexCell(player.pos);
            game.update(playerCell.x,playerCell.y,player); 
        }
    
    </script>

</html>